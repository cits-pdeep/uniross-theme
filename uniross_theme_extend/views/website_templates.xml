<?xml version="1.0"?>
<odoo>

    <!--This template used for set image in header menus-->
    <template inherit_id="website.submenu" id="website_submenu_inherit_id">
        <!-- This code has style for vertical align name center with image
            <a t-att-href="submenu._clean_url()" t-attf-class="#{link_class or ''} #{submenu._is_active() and 'active'}" role="menuitem" t-ignore="true" t-att-target="'_blank' if submenu.new_window else None"
            style="display: flex; align-items: center;">
                <img src="http://localhost:8088/web/image/1120" style="margin-right: 10px;"/>
                <span t-field="submenu.name"/>
                <span>Single-use<br/>Batteries</span>
            </a>
        -->
        <xpath expr="//li[contains(@t-if, 'submenu.is_visible')]/a/span" position="before">
            <img t-if="submenu.menu_image" t-att-src="image_data_uri(submenu.menu_image)"/>
        </xpath>
        <xpath expr="//li[contains(@t-elif, 'show_dropdown')]/a/span" position="before">
            <img t-if="submenu.menu_image" t-att-src="image_data_uri(submenu.menu_image)"/>
        </xpath>
    </template>

    <!--This template is used for center all menus-->
    <!--Need to select "Menu - Sales 2" from theme editor.-->
    <template id="template_header_sales_two" inherit_id="website.template_header_sales_two">
        <xpath expr="//div[contains(@class, 'o_border_contrast')]/div" position="attributes">
            <attribute name="class">container d-flex justify-content-center</attribute>
        </xpath>
    </template>

    <!--Hide contact us button from the header (Menu - Sales 2)-->
    <template id="header_call_to_action" inherit_id="website.header_call_to_action">
        <xpath expr="//section" position="attributes">
            <attribute name="class">oe_unremovable oe_unmovable s_text_block d-none</attribute>
        </xpath>
    </template>

    <!--This template will put name and image of category at top of specific category page-->
    <template id="products_category_image" name="Category Image" inherit_id="website_sale.products">
        <xpath expr="//t[@t-call='website_sale.products_breadcrumb']" position="replace"/>

        <xpath expr="//div[@id='oe_structure_website_sale_products_1']" position="after">
            <section t-if="category" class="s_text_image pt32 pb32 o_colored_level" data-snippet="s_text_image"
                     data-name="Text - Image"
                     style="background-image: none;">
                <div class="container justify-content-between ">
                    <div class="row"><!-- align-items-center-->
                        <div class="col-lg-6 o_colored_level pb0 pt0">
                            <p class="o_default_snippet_text">
                                <!--Breadcrumb-->
                                <t t-call="website_sale.products_breadcrumb">
                                    <t t-set="_classes" t-valuef="d-none d-lg-flex w-100 p-0 small"/>
                                </t>
                                <!---->
                            </p>
                            <!--<h2 class="o_default_snippet_text"><br/></h2>
                            <h2 class="o_default_snippet_text"><br/></h2>
                            <h2 class="o_default_snippet_text"><br/></h2>-->
                            <h2 class="o_default_snippet_text">
                                <span t-esc="category.name"/>
                            </h2>
                        </div>
                        <div class="col-lg-6 pt16 pb16 o_colored_level">
                            <img t-if="category.image_1920" t-att-src="image_data_uri(category.image_1920)"
                                 class="img img-fluid mx-auto" alt="" loading="lazy" data-mimetype="image/jpeg"
                                 style="margin-right: 0px !important;width: 350px;"/><!--style="margin-right: auto !important; margin-left: auto !important;"-->
                        </div>
                    </div>
                </div>
            </section>
        </xpath>
    </template>

    <!--Center product name in grid-->
    <template id="products_item" inherit_id="website_sale.products_item">
        <xpath expr="//div[hasclass('o_wsale_product_btn')]" position="replace">
        </xpath>
        <xpath expr="//div[contains(@class, 'o_wsale_product_information')]" position="replace">
            <div class="o_wsale_product_information position-relative d-flex flex-column flex-grow-1 flex-shrink-1">
                <div class="row">
                    <div class="col-12 col-md-6 extra-name">
                        <div class="o_wsale_product_information_text flex-grow-1">
                            <h6 class="o_wsale_products_item_title mb-2 text-center">
                                <a class="text-primary text-decoration-none" itemprop="name" t-att-href="product_href"
                                   t-att-content="product.name" t-field="product.name"/>
                                <a t-if="not product.website_published" role="button" t-att-href="product_href"
                                   class="btn btn-sm btn-danger" title="This product is unpublished.">
                                    Unpublished
                                </a>
                            </h6>
                            <div class="oe_subdescription mb-2 text-muted small" contenteditable="false">
                                <div itemprop="description" t-field="product.description_sale"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 d-none d-md-block extra-buttons">
                        <div class="o_wsale_product_sub d-flex justify-content-end align-items-end gap-2 flex-wrap pb-1">
                            <t t-set="template_price_vals" t-value="get_product_prices(product)"/>
                            <div class="o_wsale_product_btn">
                                <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
                                <input name="product_id" t-att-value="product_variant_id" type="hidden"/>
                                <t t-if="product_variant_id and template_price_vals['price_reduce'] or not website.prevent_zero_price_sale">
                                    <a t-if="product._website_show_quick_add()" href="#" role="button"
                                       class="btn btn-outline-primary a-submit"
                                       aria-label="Shopping cart" title="Shopping cart">
                                        <span class="fa fa-checkbox"/>
                                        Add To Quote
                                    </a>
                                </t>
                                <div class="mt-2">
                                    <a t-att-href="product_href" href="#" role="button"
                                       class="btn btn-primary">
                                        View Product
                                    </a>
                                </div>
                            </div>
                            <div class="product_price" itemprop="offers" itemscope="itemscope"
                                 itemtype="http://schema.org/Offer">
                                <t t-if="'base_price' in template_price_vals and (template_price_vals['base_price'] &gt; template_price_vals['price_reduce']) and (template_price_vals['price_reduce'] or not website.prevent_zero_price_sale)">
                                    <del t-attf-class="text-muted me-1 h6 mb-0" style="white-space: nowrap;">
                                        <em class="small" t-esc="template_price_vals['base_price']"
                                            t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                                    </del>
                                </t>
                                <span class="h6 mb-0"
                                      t-if="template_price_vals['price_reduce'] or not website.prevent_zero_price_sale"
                                      t-esc="template_price_vals['price_reduce']"
                                      t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                                <span class="h6 mb-0" t-else="" t-field="website.prevent_zero_price_sale_text"/>
                                <span itemprop="price" style="display:none;"
                                      t-esc="template_price_vals['price_reduce']"/>
                                <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
</odoo>
